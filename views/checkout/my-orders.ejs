<%- include('../partials/header') %>

<div class="my-orders-page">
  <h1 class="page-title">ðŸ“¦ Ø·Ù„Ø¨Ø§ØªÙŠ</h1>

  <% if (orders.length === 0) { %>
    <div style="text-align:center;padding:60px 20px;">
      <div style="font-size:60px;margin-bottom:16px">ðŸ“­</div>
      <p style="color:#a0a0b0;font-size:16px;">Ù„Ù… ØªÙ‚Ù… Ø¨Ø£ÙŠ Ø·Ù„Ø¨ Ø¨Ø¹Ø¯</p>
      <a href="/checkout" class="btn-primary" style="display:inline-block;margin-top:20px;">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</a>
    </div>
  <% } else { %>
    <div class="order-list">
      <% orders.forEach(order => { %>
      <div class="order-list-card">
        <div class="order-list-header">
          <span class="order-list-id">#<%= order._id.toString().slice(-6).toUpperCase() %></span>
          <span class="status-badge status-<%= order.status %>">
            <% const labels = { pending:'Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±', processing:'Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°', completed:'Ù…ÙƒØªÙ…Ù„', cancelled:'Ù…Ù„ØºÙŠ' } %>
            <%= labels[order.status] || order.status %>
          </span>
        </div>
        <div class="order-list-items">
          <%= order.items.map(i => `${i.productName} Ã—${i.quantity}`).join(' â€” ') %>
        </div>
        <div class="order-list-footer">
          <span class="order-list-total"><%= order.totalAmount %> Ø±ÙŠØ§Ù„</span>
          <span class="order-list-date"><%= new Date(order.createdAt).toLocaleDateString('ar-EG') %></span>
        </div>
      </div>
      <% }) %>
    </div>
  <% } %>
</div>

<%- include('../partials/footer') %>
